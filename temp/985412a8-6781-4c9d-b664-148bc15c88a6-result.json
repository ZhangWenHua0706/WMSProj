{"name": "test_login[datainfo2-baseinfo0-caseinfo0]", "status": "broken", "statusDetails": {"message": "TypeError: 'NoneType' object is not subscriptable", "trace": "self = <testcases.test_alogin.TestLogin object at 0x000000000406C5E0>\nbaseinfo = {'base': {'assert_str': 2000000, 'base_url': 'https://api.wy56.com/test/wms-api', 'getcust_url': 'https://api.wy56.com...list', ...}, 'log': {'log_fomat': '[%(asctime)s] %(filename)s->%(funcname)s', 'log_level': 'info', 'log_name': 'log_'}}\ncaseinfo = {'name': '$csv{name}', 'parameters': {'name-login-assert_str': 'test_login.csv'}, 'requests': {'data': {'loginType': '...serName': '上海管理'}, 'method': 'post', 'url': '/system/login'}, 'validate': {'assert_str': '4030000', 'equals': 2000000}}\ndatainfo = {'assert_str': '4030000', 'loginType': '1', 'name': '登录测试', 'password': '1123456', ...}\n\n    @allure.feature('登录测试')\n    @pytest.mark.parametrize('caseinfo', YamlUtil().read_test_yamlfile('test_login.yaml'))\n    @pytest.mark.parametrize('baseinfo', YamlUtil().read_yamlfile('config.yaml'))\n    @pytest.mark.parametrize('datainfo', DataUtil().csv_read('test_login.csv'))\n    def test_login(self, baseinfo, caseinfo, datainfo):\n        method = caseinfo[\"requests\"][\"method\"]\n        post_type = \"form\"\n        last_url = baseinfo[\"base\"][\"base_url\"] + caseinfo[\"requests\"][\"url\"]\n        data = caseinfo[\"requests\"][\"data\"]\n        data = DictUtil().dict_handle_index(data, datainfo)\n        assert_str = DictUtil().search_key(caseinfo[\"validate\"], datainfo)\n        rep = RequestUtil().send_request(method, last_url, data, post_type)\n        log = LogUtil().log_info(datainfo[\"name\"])\n        log.info(datainfo[\"story\"])\n        log.info(\"预期测试结果返回:\"+datainfo[\"assert_str\"])\n        log.info(\"实际测试结果返回:\"+str(json.loads(rep)[\"code\"]))\n        allure.dynamic.story(datainfo[\"story\"])\n        assert assert_str in rep\n        if assert_str == str(json.loads(rep)[\"code\"]):\n>           auth_header = baseinfo[\"base\"][\"pre_auth\"] + \" \" + json.loads(rep)[\"data\"][\"authorization\"]\nE           TypeError: 'NoneType' object is not subscriptable\n\ntestcases\\test_alogin.py:49: TypeError"}, "attachments": [{"name": "log", "source": "70f2288f-f027-41d4-b32c-d9d993cf262d-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "datainfo", "value": "{'name': '登录测试', 'story': '错误密码登录', 'loginType': '1', 'userName': '上海管理', 'password': '1123456', 'assert_str': '4030000'}"}, {"name": "baseinfo", "value": "{'base': {'index_url': 'https://www.wy56.com/test/h5/keyi-wms/', 'base_url': 'https://api.wy56.com/test/wms-api', 'login_url': 'https://api.wy56.com/test/wms-api/system/login', 'getcust_url': 'https://api.wy56.com/test/wms-api/order/customer/downList?custName=', 'getgood_url': 'https://api.wy56.com/test/wms-api/wms/base/goods/list', 'getinstorebilllist_url': 'https://api.wy56.com/test/wms-api/wms/instore/bill/list', 'getinstorebillinfo_url': 'https://api.wy56.com/test/wms-api/wms/instore/bill/info/', 'import_insotre_bill_url': 'https://api.wy56.com/test/wms-api/wms/instore/bill/importExcel', 'userName': '上海管理', 'password': 123456, 'login_type': 1, 'pre_auth': 'Bearer', 'assert_str': 2000000, 'import_insotre_bill_file': '入库单导入.xls'}, 'log': {'log_name': 'log_', 'log_level': 'info', 'log_fomat': '[%(asctime)s] %(filename)s->%(funcname)s'}}"}, {"name": "caseinfo", "value": "{'name': '$csv{name}', 'parameters': {'name-login-assert_str': 'test_login.csv'}, 'requests': {'url': '/system/login', 'method': 'post', 'data': {'loginType': '1', 'userName': '上海管理1', 'password': '123456'}}, 'validate': {'equals': 2000000, 'assert_str': '4030000'}}"}], "start": 1647826040060, "stop": 1647826040085, "uuid": "a38c5e54-9435-4a48-8cc3-9f111f7ac1ae", "historyId": "050cfd0c2fa70eba998ae3c2045df85c", "testCaseId": "927ad857b957d8248e3244735fa8eaa6", "fullName": "testcases.test_alogin.TestLogin#test_login", "labels": [{"name": "story", "value": "错误密码登录"}, {"name": "feature", "value": "登录测试"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_alogin"}, {"name": "subSuite", "value": "TestLogin"}, {"name": "host", "value": "HXPSPQYBEZK8JRT"}, {"name": "thread", "value": "177896-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_alogin"}]}