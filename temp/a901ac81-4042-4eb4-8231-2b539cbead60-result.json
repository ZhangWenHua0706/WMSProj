{"name": "test_inorder[datainfo0-baseinfo0-caseinfo0]", "status": "broken", "statusDetails": {"message": "TypeError: __init__() got an unexpected keyword argument 'encoding'", "trace": "self = <testcases.test_instore.TestInOrder object at 0x0000000004846370>\nbaseinfo = {'base': {'base_url': 'https://api.wy56.com/test/wms-api', 'index_url': 'https://www.wy56.com/test/h5/keyi-wms/', 'pre...: 'Bearer'}, 'log': {'log_fomat': '[%(asctime)s] %(filename)s->%(funcname)s', 'log_level': 'info', 'log_name': 'log_'}}\ncaseinfo = {'name': '$csv{name}', 'parameters': {'name-login-assert_str': 'test_inorder.csv'}, 'requests': {'data': {'amtInfos': ..., 'method': 'post', 'url': '/wms/instore/bill/saveOrUpdate'}, 'validate': {'assert_str': '2000000', 'equals': 2000000}}\ndatainfo = {'amtName': '装卸费', 'assert_str': '2000000', 'custName': '上海通用汽车广州经销商', 'goodsBarcode': '', ...}\n\n    @allure.feature('创建入库单测试')\n    @pytest.mark.parametrize('caseinfo', YamlUtil().read_test_yamlfile('test_inorder.yaml'))\n    @pytest.mark.parametrize('baseinfo', YamlUtil().read_yamlfile('config.yaml'))\n    @pytest.mark.parametrize('datainfo', DataUtil().csv_read('test_inorder.csv'))\n    def test_inorder(self, baseinfo, caseinfo, datainfo):\n        method = caseinfo[\"requests\"][\"method\"]\n        post_type = \"json\"\n        last_url = baseinfo[\"base\"][\"base_url\"] + caseinfo[\"requests\"][\"url\"]\n        caseinfo[\"requests\"][\"data\"] = DictUtil().dict_handle_recursive(caseinfo[\"requests\"][\"data\"], datainfo)\n        assert_str = DictUtil().search_key(caseinfo[\"validate\"], datainfo)\n        auth_header = YamlUtil().read_extract_yaml(\"extract.yaml\")\n        headers = {\n            \"authorization\":auth_header}\n>       rep = RequestUtil().send_request(method, last_url, caseinfo[\"requests\"][\"data\"], post_type,headers=headers)\n\ntestcases\\test_instore.py:30: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\ncommon\\request_util.py:20: in send_request\n    data = json.dumps(data,ensure_ascii=False,encoding=\"utf-8\")\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nobj = {'amtInfos': [{'amtName': '装卸费', 'index': '', 'orderAmt': '1', 'orderAmtOrgId': '', ...}], 'goodsCustomerId': '32', 'id': '', 'inbillCreateTime': '2022-02-28 09:48:38', ...}\nskipkeys = False, ensure_ascii = False, check_circular = True, allow_nan = True\ncls = <class 'json.encoder.JSONEncoder'>, indent = None, separators = None\ndefault = None\n\n    def dumps(obj, *, skipkeys=False, ensure_ascii=True, check_circular=True,\n            allow_nan=True, cls=None, indent=None, separators=None,\n            default=None, sort_keys=False, **kw):\n        \"\"\"Serialize ``obj`` to a JSON formatted ``str``.\n    \n        If ``skipkeys`` is true then ``dict`` keys that are not basic types\n        (``str``, ``int``, ``float``, ``bool``, ``None``) will be skipped\n        instead of raising a ``TypeError``.\n    \n        If ``ensure_ascii`` is false, then the return value can contain non-ASCII\n        characters if they appear in strings contained in ``obj``. Otherwise, all\n        such characters are escaped in JSON strings.\n    \n        If ``check_circular`` is false, then the circular reference check\n        for container types will be skipped and a circular reference will\n        result in an ``OverflowError`` (or worse).\n    \n        If ``allow_nan`` is false, then it will be a ``ValueError`` to\n        serialize out of range ``float`` values (``nan``, ``inf``, ``-inf``) in\n        strict compliance of the JSON specification, instead of using the\n        JavaScript equivalents (``NaN``, ``Infinity``, ``-Infinity``).\n    \n        If ``indent`` is a non-negative integer, then JSON array elements and\n        object members will be pretty-printed with that indent level. An indent\n        level of 0 will only insert newlines. ``None`` is the most compact\n        representation.\n    \n        If specified, ``separators`` should be an ``(item_separator, key_separator)``\n        tuple.  The default is ``(', ', ': ')`` if *indent* is ``None`` and\n        ``(',', ': ')`` otherwise.  To get the most compact JSON representation,\n        you should specify ``(',', ':')`` to eliminate whitespace.\n    \n        ``default(obj)`` is a function that should return a serializable version\n        of obj or raise TypeError. The default simply raises TypeError.\n    \n        If *sort_keys* is true (default: ``False``), then the output of\n        dictionaries will be sorted by key.\n    \n        To use a custom ``JSONEncoder`` subclass (e.g. one that overrides the\n        ``.default()`` method to serialize additional types), specify it with\n        the ``cls`` kwarg; otherwise ``JSONEncoder`` is used.\n    \n        \"\"\"\n        # cached encoder\n        if (not skipkeys and ensure_ascii and\n            check_circular and allow_nan and\n            cls is None and indent is None and separators is None and\n            default is None and not sort_keys and not kw):\n            return _default_encoder.encode(obj)\n        if cls is None:\n            cls = JSONEncoder\n>       return cls(\n            skipkeys=skipkeys, ensure_ascii=ensure_ascii,\n            check_circular=check_circular, allow_nan=allow_nan, indent=indent,\n            separators=separators, default=default, sort_keys=sort_keys,\n            **kw).encode(obj)\nE       TypeError: __init__() got an unexpected keyword argument 'encoding'\n\n..\\lib\\json\\__init__.py:234: TypeError"}, "parameters": [{"name": "datainfo", "value": "{'name': '创建入库单', 'story': '正常下单', 'id': 'null', 'inbillOrgId': '27', 'isConfirmIn': '0', 'isDetail': '0', 'inbillNumber': '', 'inbillCreateTime': '2022-02-28 09:48:38', 'inbillTime': '', 'inbillType': '1', 'inbillCreateUserId': '26', 'inbillCreateUserName': '上海管理', 'inbillCustId': '76', 'inbillCustomerId': '32', 'inbillOrderNo': '', 'inbillRemark': '测试入库备注', 'inbillCustName': '上海通用汽车广州经销商', 'goodsCustomerId': '32', 'goodsId': '3079', 'goodsCustId': '87', 'goodsCustName': '李群', 'goodsIden': '0003028', 'goodsCode': 'lt001', 'goodsName': '轮胎001', 'goodsSpecification': '10', 'goodsUnitId': '206', 'goodsUnitDesc': '100片/箱', 'goodsBoxSpecification': '', 'goodsManufacturer': '', 'goodsCategoryId': 'null', 'goodsCategoryDesc': '', 'goodsBarcode': '', 'goodsMaxNumber': '', 'goodsMinNumber': '', 'goodsUnitVolume': '0.0037', 'goodsUnitWeight': '0.0346', 'goodsTrayArea': '', 'goodsSingleTrayMaxStart': '10', 'goodsSingleTrayMaxEnd': '20', 'goodsHalfTrayMaxStart': '5', 'goodsHalfTrayMaxEnd': '9', 'goodsEnable': '1', 'goodsEnableDesc': '启用', 'goodsExtendCode': 'luntai001', 'goodsOriginPlace': '', 'goodsSuite': 'null', 'goodsSuiteDesc': 'null', 'goodsFrom': 'null', 'goodsFromDesc': '', 'goodsRemarks': 'lt001备注', 'goodsCreateTime': '2021-12-10 16:25:24', 'goodsBrandId': 'null', 'goodsBrandDesc': '', 'goodsExpireDate': '', 'custName': '上海通用汽车广州经销商', 'goodsSingleTrayDesc': '10.0-20.0箱', 'goodsHalfTrayMaxDesc': '5.0-9.0箱', 'show': '', 'index': '', 'inbillInfoFreeze': '1', 'inbillInfoMaterial': '1', 'inbillInfoGoodsId': '3079', 'inbillInfoReceiptUserId': '26', 'inbillInfoReceiptUserName': '上海管理', 'inbillInfoGoodsCount': '5', 'orderAmtOrgName': '', 'orderAmtOrgId': '', 'orderAmtPayType': '', 'orderAmtVarifiType': '', 'orderAmtTime': '', 'orderAmtSubmitTime': '', 'orderAmtStatusDesc': '', 'orderAmtTypeId': '158', 'amtName': '装卸费', 'orderAmt': '1', 'assert_str': '2000000'}"}, {"name": "baseinfo", "value": "{'base': {'index_url': 'https://www.wy56.com/test/h5/keyi-wms/', 'base_url': 'https://api.wy56.com/test/wms-api', 'pre_auth': 'Bearer'}, 'log': {'log_name': 'log_', 'log_level': 'info', 'log_fomat': '[%(asctime)s] %(filename)s->%(funcname)s'}}"}, {"name": "caseinfo", "value": "{'name': '$csv{name}', 'parameters': {'name-login-assert_str': 'test_inorder.csv'}, 'requests': {'url': '/wms/instore/bill/saveOrUpdate', 'method': 'post', 'data': {'id': '$csv{id}', 'inbillOrgId': '$csv{inbillOrgId}', 'isConfirmIn': '$csv{isConfirmIn}', 'isDetail': '$csv{isDetail}', 'inbillNumber': '$csv{inbillNumber}', 'inbillCreateTime': '$csv{inbillCreateTime}', 'inbillTime': '$csv{inbillTime}', 'inbillType': '$csv{inbillType}', 'inbillCreateUserId': '$csv{inbillCreateUserId}', 'inbillCreateUserName': '$csv{inbillCreateUserName}', 'inbillCustId': '$csv{inbillCustId}', 'inbillCustomerId': '$csv{inbillCustomerId}', 'inbillOrderNo': '$csv{inbillOrderNo}', 'inbillRemark': '$csv{inbillRemark}', 'inbillCustName': '$csv{inbillCustName}', 'goodsCustomerId': '$csv{goodsCustomerId}', 'infos': [{'id': '$csv{id}', 'goodsId': '$csv{goodsId}', 'goodsCustId': '$csv{goodsCustId}', 'goodsCustName': '$csv{goodsCustName}', 'goodsIden': '$csv{goodsIden}', 'goodsCode': '$csv{goodsCode}', 'goodsName': '$csv{goodsName}', 'goodsSpecification': '$csv{goodsSpecification}', 'goodsUnitId': '$csv{goodsUnitId}', 'goodsUnitDesc': '$csv{goodsUnitDesc}', 'goodsBoxSpecification': '$csv{goodsBoxSpecification}', 'goodsManufacturer': '$csv{goodsManufacturer}', 'goodsCategoryId': '$csv{goodsCategoryId}', 'goodsCategoryDesc': '$csv{goodsCategoryDesc}', 'goodsBarcode': '$csv{goodsBarcode}', 'goodsMaxNumber': '$csv{goodsMaxNumber}', 'goodsMinNumber': '$csv{goodsMinNumber}', 'goodsUnitVolume': '$csv{goodsUnitVolume}', 'goodsUnitWeight': '$csv{goodsUnitWeight}', 'goodsTrayArea': '$csv{goodsTrayArea}', 'goodsSingleTrayMaxStart': '$csv{goodsSingleTrayMaxStart}', 'goodsSingleTrayMaxEnd': '$csv{goodsSingleTrayMaxEnd}', 'goodsHalfTrayMaxStart': '$csv{goodsHalfTrayMaxStart}', 'goodsHalfTrayMaxEnd': '$csv{goodsHalfTrayMaxEnd}', 'goodsEnable': '$csv{goodsEnable}', 'goodsEnableDesc': '$csv{goodsEnableDesc}', 'goodsExtendCode': '$csv{goodsExtendCode}', 'goodsOriginPlace': '$csv{goodsOriginPlace}', 'goodsSuite': '$csv{goodsSuite}', 'goodsSuiteDesc': '$csv{goodsSuiteDesc}', 'goodsFrom': '$csv{goodsFrom}', 'goodsFromDesc': '$csv{goodsFromDesc}', 'goodsRemarks': '$csv{goodsRemarks}', 'goodsCreateTime': '$csv{goodsCreateTime}', 'goodsBrandId': '$csv{goodsBrandId}', 'goodsBrandDesc': '$csv{goodsBrandDesc}', 'goodsExpireDate': '$csv{goodsExpireDate}', 'custName': '$csv{custName}', 'goodsSingleTrayDesc': '$csv{goodsSingleTrayDesc}', 'goodsHalfTrayMaxDesc': '$csv{goodsHalfTrayMaxDesc}', 'show': '$csv{show}', 'index': '$csv{index}', 'inbillInfoFreeze': '$csv{inbillInfoFreeze}', 'inbillInfoMaterial': '$csv{inbillInfoMaterial}', 'inbillInfoGoodsId': '$csv{inbillInfoGoodsId}', 'inbillInfoReceiptUserId': '$csv{inbillInfoReceiptUserId}', 'inbillInfoReceiptUserName': '$csv{inbillInfoReceiptUserName}', 'inbillInfoGoodsCount': '$csv{inbillInfoGoodsCount}'}], 'amtInfos': [{'orderAmtOrgName': '$csv{orderAmtOrgName}', 'orderAmtOrgId': '$csv{orderAmtOrgId}', 'orderAmtPayType': '$csv{orderAmtPayType}', 'orderAmtVarifiType': '$csv{orderAmtVarifiType}', 'orderAmtTime': '$csv{orderAmtTime}', 'orderAmtSubmitTime': '$csv{orderAmtSubmitTime}', 'orderAmtStatusDesc': '$csv{orderAmtStatusDesc}', 'show': '$csv{show}', 'index': '$csv{index}', 'orderAmtTypeId': '$csv{orderAmtTypeId}', 'amtName': '$csv{amtName}', 'orderAmt': '$csv{orderAmt}'}]}}, 'validate': {'equals': 2000000, 'assert_str': '$csv{assert_str}'}}"}], "start": 1646116315237, "stop": 1646116315238, "uuid": "a6e50dc2-b7ef-49c3-b1c1-6bdef5c7a470", "historyId": "c4da4d97e510b8d86c3f17d1699c6a78", "testCaseId": "9277abeeeb2ad6d150b7696993542abb", "fullName": "testcases.test_instore.TestInOrder#test_inorder", "labels": [{"name": "feature", "value": "创建入库单测试"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_instore"}, {"name": "subSuite", "value": "TestInOrder"}, {"name": "host", "value": "HXPSPQYBEZK8JRT"}, {"name": "thread", "value": "669220-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_instore"}]}